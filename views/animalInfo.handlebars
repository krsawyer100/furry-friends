<main>
    <div class="slideshow-container">
            {{#each animal.photos}}
            <div class="mySlides fade">
                <div class="numbertext"></div>
                <img src="{{this.small}}" width="100%">
            </div>
            {{/each}}
            <a class="prevImage" onclick="plusSlides(-1)">&#10094;</a>
            <a class="nextImage" onclick="plusSlides(1)">&#10095;</a>
            <div class="dots-container">
                {{#each animal.photos}}
                    <span class="dot"></span>
                {{/each}}
            </div>
    </div>
    <h2>{{animal.name}}</h2>
</main>

<script>
    let slideIndex = 1
    showSlides(slideIndex)

    function plusSlides(n) {
        showSlides(slideIndex += n)
    }

    function currentSlide(n) {
        showSlides(slideIndex = n)
    }

    function showSlides(n) {
        let i
        let slides = document.querySelectorAll('.mySlides')
        let dots = document.querySelectorAll('.dot')
        const totalSlides = slides.length

        if (n > slides.length) {
            slideIndex = 1
        } if (n < 1) {
            slideIndex = slides.length
        }

        for(i = 0; i < slides.length; i++) {
            slides[i].style.display = 'none'
        }
        for (i = 0;  i < dots.length; i ++) {
            dots[i].className = dots[i].className.replace(" active", "")
        }

        slides[slideIndex - 1].style.display = "table"
        dots[slideIndex - 1].className += " active"

        const numberText = slides[slideIndex - 1].querySelector(".numbertext")
        numberText.textContent = `${slideIndex}/${totalSlides}`
    }
</script>